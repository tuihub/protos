![](./docs/logo.png)

This repository contains protobuf definition and generated code for TuiHub **developers and contributors**.
All the `.proto` files located at [proto folder](proto), it is recommended to import generated code rather than original definition.

## Usage

### Document

Config files located at [docs](docs), But document content is generated by Action Bot  
Check [https://tuihub.github.io/protos](https://tuihub.github.io/protos)

### Go

```bash
go get github.com/tuihub/protos
```

### Js/Ts

```bash
npm install https://github.com/tuihub/protos
# Or
yarn add https://github.com/tuihub/protos
```

### Rust

```bash
cargo add --git https://github.com/tuihub/protos
```

### CSharp

- Check [Package](https://github.com/orgs/tuihub/packages?repo_name=protos) page or [nuget](https://www.nuget.org/packages/TuiHub.Protos) for pre-packed file
- Or pack locally

```bash
git clone https://github.com/tuihub/protos && cd protos
# How to install `dotnet`: https://learn.microsoft.com/en-us/dotnet/core/install/
dotnet pack TuiHub.Protos.csproj -c Release
```

### Dart

```yaml
# pubspec.yaml
dependencies:
  ...
  # Add following lines
  tuihub_protos:
    git: https://github.com/tuihub/protos.git
```

## Build Locally

**Not Recommended**. You can focus on proto files and just use `buf lint` to make sure proto files are correct. Action Bot will deal with the rest.

### Install dependency

**basic cli tool**

- [buf](https://github.com/bufbuild/buf)

**compiler**

- [protoc](https://github.com/protocolbuffers/protobuf#protocol-compiler-installation)

**language plugins**
- Document: [protoc-gen-doc](https://github.com/pseudomuto/protoc-gen-doc)
```bash
GO111MODULE=off go get github.com/pseudomuto/protoc-gen-doc/cmd/protoc-gen-doc
```
- Go: 
```bash
GO111MODULE=off go get github.com/gogo/protobuf/protoc-gen-gofast
go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest
export PATH="$PATH:$(go env GOPATH)/bin"
```
- Js/Ts:
```bash
npm i
```

### Build

```bash
make generate
```